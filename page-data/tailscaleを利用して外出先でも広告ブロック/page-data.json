{"componentChunkName":"component---src-templates-blog-post-js","path":"/tailscaleを利用して外出先でも広告ブロック/","result":{"data":{"site":{"siteMetadata":{"title":"eginoy Blog"}},"markdownRemark":{"id":"a523c5a1-6635-5e5b-ab23-1dda876b2af6","excerpt":"外出先でも広告ブロックがしたい 前回の記事では、Pi-holeを利用して広告ブロックDNSサーバーを立てた。 自宅Wi-Fiネットワーク接続時、DNSサーバーをPi-hole…","html":"<h3>外出先でも広告ブロックがしたい</h3>\n<p>前回の<a href=\"http://eginoy.com/pihole%E3%81%A7%E5%BA%83%E5%91%8A%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF/\">記事</a>では、Pi-holeを利用して広告ブロックDNSサーバーを立てた。<br>\n自宅Wi-Fiネットワーク接続時、DNSサーバーをPi-holeに指定することで広告除去ができるようになった。<br>\nしかし、外出先ではモバイネットワークを利用するため、上記の方法で広告ブロックができない。<br>\n外出先からでも広告ブロックが実現できるように、クラウド型VPNサービスの<a href=\"https://tailscale.com/\">tailscale</a>を利用する。</p>\n<h3>tailscaleのインストールと設定</h3>\n<h4>サインアップ</h4>\n<p><a href=\"https://tailscale.com/\">tailscale</a>にサインアップしておく。<br>\n(Google、Microsoftアカウントでのサインアップができるので便利。)</p>\n<h4>インストール</h4>\n<p><a href=\"https://tailscale.com/download/linux\">公式のセットアップ手順</a>通りに、Pi-holeを構築しているLinuxマシン上で作業を行う。  </p>\n<p>環境</p>\n<ul>\n<li>Raspberry Pi4 4GB</li>\n<li>Ubuntu 20.04.1 LTS</li>\n</ul>\n<p>repositoryを登録  </p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">curl -fsSL https://pkgs.tailscale.com/stable/ubuntu/focal.gpg | sudo apt-key add -</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">curl -fsSL https://pkgs.tailscale.com/stable/ubuntu/focal.list | sudo tee /etc/apt/sources.list.d/tailscale.list</code></pre></div>\n<p>tailscaleのインストール  </p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo apt-get update</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo apt-get install tailscale</code></pre></div>\n<p>tailscaleにログイン</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo tailscale up</code></pre></div>\n<p>表示されたリンクにアクセスしてログインする。</p>\n<p>tailscaleから割り当てられたIPアドレスの確認</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">ip addr show tailscale0</code></pre></div>\n<p>クライアントにもアプリをインストールして、ログインしておく。</p>\n<h3>tailscaleのNameServersにPi-holeのアドレス指定</h3>\n<p>tailscaleのDNS設定画面で、NameServersにPi-holeのアドレスを指定する。<br>\n（100から始まるtailscale上のアドレスなので注意）<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b85835161bd08cd758da659af07a041f/7fee5/tailscale-dns.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 87.9746835443038%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABBNAAAQTQFnjAHgAAACXklEQVQ4y51UyY7UMBDNZ/ItiAsXjlwZiQsXrnwLQw+otyFJZ+kli7M7djp+VLkXekY9rQFLT1V+SmovO3EYIPQ9bOIIpcixXcdgTmQZku2G+BBFnlmev1lHIbbhCun9L/g/XaSTGTLPxWazRlOVcNqmhuxaVGWBrm1QE1kWAsyzznxb15ZjvSTU5KBYeAg3JQo/RhPHKOsKPdlxfIpuPl/AGPzbKUoYUcBkOTAMZ9qJwhC+758NsjBmJJjbuLB9+Ic5A0dKia7rIMhj36Qwun5VgNccsHR+L+d4mHzH4+MSG+8eaTSlbCrkeU71KiGEQFFQ3biO1YHnIE5Gnx9nnUq4UQ0/rvEY1PDiBm0n0fc9lFJWnnV7l1Sy4WWDd98CvLtb4MMXF+8/L/Hxq4u2H1+V8rXjiKLCLhFICLukQJJLVLVCJweY8eWm4BrHBvV+gN5rqIHS0YTBoFUGejx27wauRe2YlOYo53kSVlK7/4Lv+QWfF090/seCbBj+jiP0Jw9YTKdwZzPEno89dXCgphxkZ6VuO6imIdmSbI96B2gNoxgKZpvYqJ1wsYS7WmEVhAjCGD7p/spHEEV0D+2dpaDV47ERNEIZjU5VN+ehtjI7RqhooNV+j15W0KqyY9H1GpJHhSJoKUp9sVp4viEn0AraGoKXvVJQy0/AjzfA7C0gM9pP6gqlQtZIUlrkwPTqKdQRrG93h5RlvEa1ClB7CzTuBCqcYkwTjJTCeCo6I78Bjo4fCjbY0JOTZCl2aYZUlHZc/vtwyvy+8b4KKnRGnjIhLQoqg9b7qwN86wX6A1XgbxcrmGL9AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"tailscale-dns\"\n        title=\"tailscale-dns\"\n        src=\"/static/b85835161bd08cd758da659af07a041f/f058b/tailscale-dns.png\"\n        srcset=\"/static/b85835161bd08cd758da659af07a041f/c26ae/tailscale-dns.png 158w,\n/static/b85835161bd08cd758da659af07a041f/6bdcf/tailscale-dns.png 315w,\n/static/b85835161bd08cd758da659af07a041f/f058b/tailscale-dns.png 630w,\n/static/b85835161bd08cd758da659af07a041f/7fee5/tailscale-dns.png 781w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br>\ntailscaleに接続しているクライアント（モバイネットワークなどから）で広告ブロックできていることが確認できれば成功。</p>\n<h3>所感</h3>\n<p>広告はWebサイト、スマートフォンアプリ運営費の収益源だったりするので必要なのは理解している。<br>\nしかし、表示される広告は不愉快なもの（鼻の角栓画像、胸糞漫画、コンプレックスを煽るものなど）が多いので基本的にブロックするようになった。<br>\n今回の作業で、外出先でも快適にスマートフォンを利用できるようになったので良かった。（まあ、全然外出しないが）</p>","frontmatter":{"title":"tailscaleを利用して外出先でも広告ブロック","date":"April 28, 2021","description":null}},"previous":{"fields":{"slug":"/piholeで広告ブロック/"},"frontmatter":{"title":"Pi-holeで広告ブロック"}},"next":{"fields":{"slug":"/radcastをDockerで動くようにした/"},"frontmatter":{"title":"radcastをDockerで動くようにした"}}},"pageContext":{"id":"a523c5a1-6635-5e5b-ab23-1dda876b2af6","previousPostId":"3230944b-9c15-5d1e-88f8-31d5b76ab1fa","nextPostId":"2ee1b5a8-80a0-5997-b720-b81c9b12a11d"}},"staticQueryHashes":["2841359383","3257411868"]}